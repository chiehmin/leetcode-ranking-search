<html>
  <head>
    <!-- GA -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-7408997-11"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-7408997-11');
    </script>

    <!-- Required Stylesheets -->
    <link
      type="text/css"
      rel="stylesheet"
      href="https://unpkg.com/bootstrap@^4.0.0/dist/css/bootstrap.min.css"
      />
    <link
      type="text/css"
      rel="stylesheet"
      href="https://unpkg.com/bootstrap-vue@^2.0.0/dist/bootstrap-vue.css"
      />

    <!-- Load polyfills to support older browsers -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es2015%2CIntersectionObserver"></script>

    <!-- Required scripts -->
    <script src="https://unpkg.com/vue@^2.0.0/dist/vue.js"></script>
    <script src="https://unpkg.com/bootstrap-vue@^2.0.0/dist/bootstrap-vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <script async defer src="https://buttons.github.io/buttons.js"></script>

    <title>Leetcode Ranking</title>
  </head>
  <body>
    <div id="app" class="px-5 py-3">
      <b-navbar toggleable="lg" type="dark" variant="info" class="mb-2">
        <b-navbar-brand href="#">{{ unSlugTitle }}</b-navbar-brand>
        <b-navbar-nav>
          <b-nav-item href="index.html">All Contests</b-nav-item>
        </b-navbar-nav>
      </b-navbar>

      <a class="github-button" href="https://github.com/chiehmin" data-size="large" data-show-count="true" aria-label="Follow @chiehmin on GitHub">Follow @chiehmin</a>
      <a class="github-button" href="https://github.com/chiehmin/leetcode-ranking-search" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star chiehmin/leetcode-ranking-search on GitHub">Star</a>

      <b-container fluid class="p-0">
        <b-row align-h="between">
          <b-col sm="5">
            <b-pagination
              v-model="currentPage"
              :total-rows="total"
              :per-page="perPage"
              aria-controls="rank-table"
              ></b-pagination>
          </b-col>
          <b-col sm="3">
            <b-row align-h="end">
              <b-form-select
                v-model="countryFilter"
                :options="countryList"
              ></b-form-input>
            </b-row>
          </b-col>
          <b-col sm="4">
            <b-form-input
              v-model="userFilter"
              debounce="500"
              type="search"
              placeholder="Search a user..."
              ></b-form-input>
          </b-col>
        </b-row>
      </b-container>

      <b-table hover
        id="rank-table"
        :fields="fields"
        :items="rank"
        :per-page="perPage"
        :current-page="currentPage"
        :busy="isBusy"
        :filter="filterTrigger"
        :filter-function="filterFunc"
        :filter-included-fields="filteredOn"
        @filtered="onFiltered"
        >
        <template v-slot:table-busy>
          <div class="text-center text-danger my-2">
            <b-spinner class="align-middle"></b-spinner>
            <strong>Loading...</strong>
          </div>
        </template>
        <template v-slot:cell(username)="row">
          <b-link :href="profileLink(row.value, row.item.data_region)" target="_blank">{{ row.value }}</b-link>
        </template>
      </b-table>

    </div>
    <script src="./contest.js"></script>
  </body>
</html>

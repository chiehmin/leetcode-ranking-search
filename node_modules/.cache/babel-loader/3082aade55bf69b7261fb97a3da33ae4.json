{"remainingRequest":"/home/fatminmin/Documents/leetcode-ranking-search/node_modules/babel-loader/lib/index.js!/home/fatminmin/Documents/leetcode-ranking-search/node_modules/eslint-loader/index.js??ref--13-0!/home/fatminmin/Documents/leetcode-ranking-search/src/scripts/get_user_rank_worker.js","dependencies":[{"path":"/home/fatminmin/Documents/leetcode-ranking-search/src/scripts/get_user_rank_worker.js","mtime":1628668714138},{"path":"/home/fatminmin/Documents/leetcode-ranking-search/node_modules/cache-loader/dist/cjs.js","mtime":1628668707402},{"path":"/home/fatminmin/Documents/leetcode-ranking-search/node_modules/babel-loader/lib/index.js","mtime":1628668707246},{"path":"/home/fatminmin/Documents/leetcode-ranking-search/node_modules/eslint-loader/index.js","mtime":1628668707906}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2ZhdG1pbm1pbi9Eb2N1bWVudHMvbGVldGNvZGUtcmFua2luZy1zZWFyY2gvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKZnVuY3Rpb24gc2x1Z1RpdGxlKHRpdGxlKSB7CiAgdmFyIHdvcmRzID0gdGl0bGUuc3BsaXQoIiAiKTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykgewogICAgd29yZHNbaV0gPSB3b3Jkc1tpXS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHdvcmRzW2ldLnN1YnN0cigxKTsKICB9CgogIHJldHVybiB3b3Jkcy5qb2luKCItIik7Cn0KCm9ubWVzc2FnZSA9IGZ1bmN0aW9uIG9ubWVzc2FnZShlKSB7CiAgdmFyIHVzZXIgPSBlLmRhdGFbMF0sCiAgICAgIGNvbnRlc3QgPSBlLmRhdGFbMV0sCiAgICAgIHN0YXJ0VGltZSA9IGUuZGF0YVsyXTsKICBheGlvcy5nZXQoJ2RhdGEvJyArIHNsdWdUaXRsZShjb250ZXN0KSArICcuanNvbicpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgIHZhciBjb250ZXN0RGF0YSA9IHJlc3AuZGF0YTsKCiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY29udGVzdERhdGEpLAogICAgICAgIF9zdGVwOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIHVzZXJSYW5rID0gX3N0ZXAudmFsdWU7CgogICAgICAgIGlmICh1c2VyUmFuay51c2VybmFtZS50b0xvd2VyQ2FzZSgpID09IHVzZXIudG9Mb3dlckNhc2UoKSkgewogICAgICAgICAgdmFyIHBlcmNlbnRpbGUgPSAodXNlclJhbmsucmFuayAqIDEwMC4wIC8gY29udGVzdERhdGEubGVuZ3RoKS50b0ZpeGVkKDIpICsgIiUiOwogICAgICAgICAgcG9zdE1lc3NhZ2UoewogICAgICAgICAgICAiY29udGVzdCI6IGNvbnRlc3QsCiAgICAgICAgICAgICJzdGFydFRpbWUiOiBzdGFydFRpbWUsCiAgICAgICAgICAgICJyYW5rIjogdXNlclJhbmsucmFuaywKICAgICAgICAgICAgInBlcmNlbnRpbGUiOiBwZXJjZW50aWxlLAogICAgICAgICAgICAicGFydGljaXBhbnRzIjogY29udGVzdERhdGEubGVuZ3RoCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgIH0KCiAgICBwb3N0TWVzc2FnZSh7fSk7CiAgfS5iaW5kKHRoaXMpKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoImZhaWxlZCB0byByZXRyaWV2ZSBjb250ZXN0IGRhdGEgb2YgIiArIGNvbnRlc3QpOwogICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICBwb3N0TWVzc2FnZSh7fSk7CiAgfSk7Cn07"},{"version":3,"sources":["/home/fatminmin/Documents/leetcode-ranking-search/src/scripts/get_user_rank_worker.js"],"names":["axios","slugTitle","title","words","split","i","length","charAt","toLowerCase","substr","join","onmessage","e","user","data","contest","startTime","get","then","resp","contestData","userRank","username","percentile","rank","toFixed","postMessage","bind","catch","error","console"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,MAAIC,KAAK,GAAGD,KAAK,CAACE,KAAN,CAAY,GAAZ,CAAZ;;AACA,OAAI,IAAIC,CAAC,GAAG,CAAZ,EAAgBA,CAAC,GAAGF,KAAK,CAACG,MAA1B,EAAmCD,CAAC,EAApC,EAAuC;AACrCF,IAAAA,KAAK,CAACE,CAAD,CAAL,GAAWF,KAAK,CAACE,CAAD,CAAL,CAASE,MAAT,CAAgB,CAAhB,EAAmBC,WAAnB,KAAmCL,KAAK,CAACE,CAAD,CAAL,CAASI,MAAT,CAAgB,CAAhB,CAA9C;AACD;;AACD,SAAON,KAAK,CAACO,IAAN,CAAW,GAAX,CAAP;AACD;;AAEDC,SAAS,GAAG,mBAASC,CAAT,EAAY;AACtB,MAAIC,IAAI,GAAGD,CAAC,CAACE,IAAF,CAAO,CAAP,CAAX;AAAA,MAAsBC,OAAO,GAAGH,CAAC,CAACE,IAAF,CAAO,CAAP,CAAhC;AAAA,MAA2CE,SAAS,GAAGJ,CAAC,CAACE,IAAF,CAAO,CAAP,CAAvD;AACAd,EAAAA,KAAK,CAACiB,GAAN,CAAU,UAAUhB,SAAS,CAACc,OAAD,CAAnB,GAA+B,OAAzC,EACGG,IADH,CACQ,UAASC,IAAT,EAAc;AAClB,QAAIC,WAAW,GAAGD,IAAI,CAACL,IAAvB;;AADkB,+CAEGM,WAFH;AAAA;;AAAA;AAElB,0DAAkC;AAAA,YAAzBC,QAAyB;;AAChC,YAAIA,QAAQ,CAACC,QAAT,CAAkBd,WAAlB,MAAmCK,IAAI,CAACL,WAAL,EAAvC,EAA2D;AACzD,cAAIe,UAAU,GAAG,CAACF,QAAQ,CAACG,IAAT,GAAgB,KAAhB,GAAwBJ,WAAW,CAACd,MAArC,EAA6CmB,OAA7C,CAAqD,CAArD,IAA0D,GAA3E;AACAC,UAAAA,WAAW,CAAC;AACV,uBAAWX,OADD;AAEV,yBAAaC,SAFH;AAGV,oBAAQK,QAAQ,CAACG,IAHP;AAIV,0BAAcD,UAJJ;AAKV,4BAAgBH,WAAW,CAACd;AALlB,WAAD,CAAX;AAOD;AACF;AAbiB;AAAA;AAAA;AAAA;AAAA;;AAclBoB,IAAAA,WAAW,CAAC,EAAD,CAAX;AACD,GAfK,CAeJC,IAfI,CAeC,IAfD,CADR,EAiBGC,KAjBH,CAiBS,UAASC,KAAT,EAAgB;AACrBC,IAAAA,OAAO,CAACD,KAAR,CAAc,wCAAwCd,OAAtD;AACAe,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAH,IAAAA,WAAW,CAAC,EAAD,CAAX;AACD,GArBH;AAsBD,CAxBD","sourcesContent":["import axios from 'axios'\n\nfunction slugTitle(title) {\n  var words = title.split(\" \");\n  for(var i = 0 ; i < words.length ; i++){\n    words[i] = words[i].charAt(0).toLowerCase() + words[i].substr(1);\n  }\n  return words.join(\"-\");\n}\n\nonmessage = function(e) {\n  let user = e.data[0], contest = e.data[1], startTime = e.data[2];\n  axios.get('data/' + slugTitle(contest) + '.json')\n    .then(function(resp){\n      let contestData = resp.data;\n      for (let userRank of contestData) {\n        if (userRank.username.toLowerCase() == user.toLowerCase()) {\n          let percentile = (userRank.rank * 100.0 / contestData.length).toFixed(2) + \"%\";\n          postMessage({\n            \"contest\": contest,\n            \"startTime\": startTime,\n            \"rank\": userRank.rank,\n            \"percentile\": percentile,\n            \"participants\": contestData.length\n          });\n        }\n      }\n      postMessage({});\n    }.bind(this))\n    .catch(function(error) {\n      console.error(\"failed to retrieve contest data of \" + contest);\n      console.error(error);\n      postMessage({});\n    }) ;\n}\n"]}]}
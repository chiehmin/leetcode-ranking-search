{"remainingRequest":"/home/fatminmin/Documents/leetcode-ranking-search/node_modules/babel-loader/lib/index.js!/home/fatminmin/Documents/leetcode-ranking-search/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/fatminmin/Documents/leetcode-ranking-search/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/fatminmin/Documents/leetcode-ranking-search/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/fatminmin/Documents/leetcode-ranking-search/src/App.vue","mtime":1628668714130},{"path":"/home/fatminmin/Documents/leetcode-ranking-search/node_modules/cache-loader/dist/cjs.js","mtime":1628668707402},{"path":"/home/fatminmin/Documents/leetcode-ranking-search/node_modules/babel-loader/lib/index.js","mtime":1628668707246},{"path":"/home/fatminmin/Documents/leetcode-ranking-search/node_modules/cache-loader/dist/cjs.js","mtime":1628668707402},{"path":"/home/fatminmin/Documents/leetcode-ranking-search/node_modules/vue-loader/lib/index.js","mtime":1628668711418}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2ZhdG1pbm1pbi9Eb2N1bWVudHMvbGVldGNvZGUtcmFua2luZy1zZWFyY2gvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBVc2VyUmFua2luZ1dvcmtlciBmcm9tICcuL3NjcmlwdHMvZ2V0X3VzZXJfcmFua193b3JrZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgY29tcG9uZW50czogey8vIEhlbGxvV29ybGQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwZXJQYWdlOiAxNSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIGNvbnRlc3RzOiBbXSwKICAgICAgZmllbGRzOiBbInRpdGxlIiwgInN0YXJ0VGltZSJdLAogICAgICBmaWx0ZXJDb250ZXN0OiAiIiwKICAgICAgZmlsdGVyZWRPbjogWyJ0aXRsZSJdLAogICAgICBpc0J1c3k6IHRydWUsCiAgICAgIHRvdGFsUm93czogbnVsbCwKICAgICAgLy8gdXNlciBjb250ZXN0IGhpc3RvcnkKICAgICAgZmlsdGVyVXNlcjogIiIsCiAgICAgIHVzZXJDb250ZXN0SGlzdG9yeUZpZWxkczogW3sKICAgICAgICBrZXk6ICJjb250ZXN0IgogICAgICB9LCB7CiAgICAgICAga2V5OiAicmFuayIgLy8gbGFiZWw6ICJSYW5rIChQZXJjZW50aWxlKSIsCgogICAgICB9LCB7CiAgICAgICAga2V5OiAicGVyY2VudGlsZSIKICAgICAgfSwgewogICAgICAgIGtleTogInBhcnRpY2lwYW50cyIKICAgICAgfV0sCiAgICAgIHJldHJpZXZlZENudDogMCwKICAgICAgdXNlckNvbnRlc3RIaXN0b3J5OiBbXSwKICAgICAgdXNlckNvbnRlc3RCdXN5OiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwoKSB7CiAgICAgIHJldHVybiB0aGlzLnRvdGFsUm93cyB8fCB0aGlzLmNvbnRlc3RzLmxlbmd0aDsKICAgIH0sCiAgICB0b3RhbENvbnRlc3RzOiBmdW5jdGlvbiB0b3RhbENvbnRlc3RzKCkgewogICAgICByZXR1cm4gdGhpcy5jb250ZXN0cy5sZW5ndGg7CiAgICB9LAogICAgdXNlckNvbnRlc3RIaXN0b3J5VGl0bGU6IGZ1bmN0aW9uIHVzZXJDb250ZXN0SGlzdG9yeVRpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy5maWx0ZXJVc2VyICsgIidzIENvbnRlc3QgSGlzdG9yeSI7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5jb250ZXN0cyA9IFt7CiAgICAgICJ0aXRsZSI6ICJHbG9iYWwgUmFua2luZyIsCiAgICAgICJocmVmIjogImdsb2JhbF9yYW5raW5nLmh0bWwiLAogICAgICAic3RhcnRUaW1lIjogMAogICAgfV07CiAgICBheGlvcy5nZXQoJ2RhdGEvY29udGVzdHMuanNvbicpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgdGhpcy5jb250ZXN0cyA9IHRoaXMuY29udGVzdHMuY29uY2F0KHJlc3AuZGF0YSk7CiAgICAgIHRoaXMuaXNCdXN5ID0gZmFsc2U7CiAgICB9LmJpbmQodGhpcykpOwogIH0sCiAgbWV0aG9kczogewogICAgdGltZXN0YW1wVG9EYXRlOiBmdW5jdGlvbiB0aW1lc3RhbXBUb0RhdGUodGltZXN0YW1wKSB7CiAgICAgIHJldHVybiBtb21lbnQudW5peCh0aW1lc3RhbXApLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbTpzcycpOwogICAgfSwKICAgIG9uRmlsdGVyZWQ6IGZ1bmN0aW9uIG9uRmlsdGVyZWQoZmlsdGVyZWRJdGVtcykgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgdGhpcy50b3RhbFJvd3MgPSBmaWx0ZXJlZEl0ZW1zLmxlbmd0aDsKICAgIH0sCiAgICBzZWFyY2hVc2VySGlzdG9yeTogZnVuY3Rpb24gc2VhcmNoVXNlckhpc3RvcnkoKSB7CiAgICAgIHRoaXMudXNlckNvbnRlc3RIaXN0b3J5ID0gW107CiAgICAgIHRoaXMudXNlckNvbnRlc3RCdXN5ID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmc1sndXNlci1oaXN0b3J5LW1vZGFsJ10udG9nZ2xlKCd1c2VyLWhpc3Rvcnktc3VibWl0Jyk7CiAgICAgIHZhciB3b3JrZXIgPSBuZXcgVXNlclJhbmtpbmdXb3JrZXIoKTsKICAgICAgdGhpcy5yZXRyaWV2ZWRDbnQgPSAwOwoKICAgICAgd29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGUuZGF0YS5jb250ZXN0KSB7CiAgICAgICAgICB0aGlzLnVzZXJDb250ZXN0SGlzdG9yeS5wdXNoKGUuZGF0YSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnJldHJpZXZlZENudCsrOwoKICAgICAgICBpZiAodGhpcy5yZXRyaWV2ZWRDbnQgPT0gdGhpcy5jb250ZXN0cy5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMudXNlckNvbnRlc3RCdXN5ID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9LmJpbmQodGhpcyk7CgogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5jb250ZXN0cyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBjb250ZXN0ID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKGNvbnRlc3QudGl0bGUgPT09ICJHbG9iYWwgUmFua2luZyIpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKFt0aGlzLmZpbHRlclVzZXIsIGNvbnRlc3QudGl0bGUsIGNvbnRlc3Quc3RhcnRUaW1lXSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"app\" class=\"px-5 py-3\">\n    <b-navbar toggleable=\"lg\" type=\"dark\" variant=\"info\" class=\"mb-2\">\n      <b-navbar-brand href=\"#\">Leetcode contest ranking searcher</b-navbar-brand>\n    </b-navbar>\n    <a class=\"github-button\" href=\"https://github.com/chiehmin\" data-size=\"large\" data-show-count=\"true\" aria-label=\"Follow @chiehmin on GitHub\">Follow @chiehmin</a>\n    <a class=\"github-button\" href=\"https://github.com/chiehmin/leetcode-ranking-search\" data-icon=\"octicon-star\" data-size=\"large\" data-show-count=\"true\" aria-label=\"Star chiehmin/leetcode-ranking-search on GitHub\">Star</a>\n\n    <b-container fluid class=\"p-0\">\n      <b-row align-h=\"between\">\n        <b-col sm=\"5\">\n          <b-pagination v-model=\"currentPage\" :total-rows=\"total\" :per-page=\"perPage\" aria-controls=\"contest-table\" ></b-pagination>\n        </b-col>\n        <b-col sm=\"3\">\n          <b-form-input v-model=\"filterContest\" type=\"search\" placeholder=\"Search a contest...\"></b-form-input>\n        </b-col>\n        <b-col sm=\"4\">\n          <b-input-group>\n            <b-form-input\n              v-model=\"filterUser\"\n              type=\"search\"\n              placeholder=\"Search user contest history...\"\n              @keydown.enter.native=\"searchUserHistory\"\n            ></b-form-input>\n            <b-input-group-append>\n              <b-button id=\"user-history-submit\" type=\"submit\" variant=\"primary\" v-on:click=\"searchUserHistory\">Submit</b-button>\n            </b-input-group-append>\n          </b-input-group>\n        </b-col>\n      </b-row>\n    </b-container>\n\n    <b-table hover id=\"contest-table\"\n      :items=\"contests\"\n      :fields=\"fields\"\n      :per-page=\"perPage\"\n      :current-page=\"currentPage\"\n      :filter=\"filterContest\"\n      :filter-included-fields=\"filteredOn\"\n      @filtered=\"onFiltered\"\n      :busy=\"isBusy\">\n      <template v-slot:head(title)=\"\">\n        Contest\n      </template>\n      <template v-slot:cell(title)=\"data\">\n        <b-link :href=\"data.item.href\">{{ data.item.title }}</b-link>\n      </template>\n      <template v-slot:cell(startTime)=\"data\">\n        {{ timestampToDate(data.item.startTime) }}\n      </template>\n    </b-table>\n\n    <b-modal ref=\"user-history-modal\" no-close-on-backdrop :hide-footer=\"true\" :title=\"userContestHistoryTitle\">\n      <b-table hover\n        :items=\"userContestHistory\"\n        :fields=\"userContestHistoryFields\"\n        :busy=\"userContestBusy\"\n        sort-by=\"startTime\"\n        :sort-desc=\"true\"\n        show-empty\n        empty-text=\"no contest data found.\">\n        <template v-slot:table-busy>\n          <div class=\"text-center text-danger my-2\">\n            <b-spinner class=\"align-middle\"></b-spinner>\n            <strong>Loading {{ retrievedCnt }} / {{ totalContests }}...</strong>\n          </div>\n        </template>\n      </b-table>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\nimport UserRankingWorker from './scripts/get_user_rank_worker'\n\nexport default {\n  name: 'App',\n  components: {\n    // HelloWorld\n  },\n  data() {\n    return {\n      perPage: 15,\n      currentPage: 1,\n      contests: [],\n      fields: [\"title\", \"startTime\"],\n      filterContest: \"\",\n      filteredOn: [\"title\"],\n      isBusy: true,\n      totalRows: null,\n      // user contest history\n      filterUser: \"\",\n      userContestHistoryFields: [{\n        key: \"contest\",\n      }, {\n        key: \"rank\",\n        // label: \"Rank (Percentile)\",\n      }, {\n        key: \"percentile\"\n      }, {\n        key: \"participants\"\n      }],\n      retrievedCnt: 0,\n      userContestHistory: [],\n      userContestBusy: false,\n    }\n  },\n  computed: {\n    total: function() {\n      return this.totalRows || this.contests.length;\n    },\n    totalContests: function() {\n      return this.contests.length;\n    },\n    userContestHistoryTitle: function() {\n      return this.filterUser + \"'s Contest History\";\n    }\n  },\n  mounted: function() {\n    this.contests = [{\n      \"title\": \"Global Ranking\",\n      \"href\": \"global_ranking.html\",\n      \"startTime\": 0,\n    }];\n    axios.get('data/contests.json')\n      .then(function(resp) {\n        this.contests = this.contests.concat(resp.data);\n        this.isBusy = false;\n      }.bind(this));\n  },\n  methods: {\n    timestampToDate: function(timestamp) {\n      return moment.unix(timestamp).format('YYYY-MM-DD hh:mm:ss');\n    },\n    onFiltered: function(filteredItems) {\n      this.currentPage = 1;\n      this.totalRows = filteredItems.length;\n    },\n    searchUserHistory: function() {\n      this.userContestHistory = [];\n      this.userContestBusy = true;\n      this.$refs['user-history-modal'].toggle('user-history-submit');\n      var worker = new UserRankingWorker;\n      this.retrievedCnt = 0;\n      worker.onmessage = function(e) {\n        if(e.data.contest) {\n          this.userContestHistory.push(e.data);\n        }\n        this.retrievedCnt++;\n        if (this.retrievedCnt == this.contests.length) {\n          this.userContestBusy = false;\n        }\n      }.bind(this);\n      for (let contest of this.contests) {\n        if (contest.title === \"Global Ranking\") {\n          continue;\n        }\n        worker.postMessage([this.filterUser, contest.title, contest.startTime]);\n      }\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src"}]}
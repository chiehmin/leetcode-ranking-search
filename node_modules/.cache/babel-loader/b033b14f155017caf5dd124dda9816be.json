{"remainingRequest":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/babel-loader/lib/index.js!/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/src/App.vue","mtime":1628663090677},{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2ZhdG1pbm1pbi9Eb2N1bWVudHMvbGVldGNvZGUtcmFua2luZy1zZWFyY2gtdnVlLWNsaS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBjb21wb25lbnRzOiB7Ly8gSGVsbG9Xb3JsZAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBlclBhZ2U6IDE1LAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgY29udGVzdHM6IFtdLAogICAgICBmaWVsZHM6IFsidGl0bGUiLCAic3RhcnRUaW1lIl0sCiAgICAgIGZpbHRlckNvbnRlc3Q6ICIiLAogICAgICBmaWx0ZXJlZE9uOiBbInRpdGxlIl0sCiAgICAgIGlzQnVzeTogdHJ1ZSwKICAgICAgdG90YWxSb3dzOiBudWxsLAogICAgICAvLyB1c2VyIGNvbnRlc3QgaGlzdG9yeQogICAgICBmaWx0ZXJVc2VyOiAiIiwKICAgICAgdXNlckNvbnRlc3RIaXN0b3J5RmllbGRzOiBbewogICAgICAgIGtleTogImNvbnRlc3QiCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJyYW5rIiAvLyBsYWJlbDogIlJhbmsgKFBlcmNlbnRpbGUpIiwKCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJwZXJjZW50aWxlIgogICAgICB9LCB7CiAgICAgICAga2V5OiAicGFydGljaXBhbnRzIgogICAgICB9XSwKICAgICAgcmV0cmlldmVkQ250OiAwLAogICAgICB1c2VyQ29udGVzdEhpc3Rvcnk6IFtdLAogICAgICB1c2VyQ29udGVzdEJ1c3k6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbCgpIHsKICAgICAgcmV0dXJuIHRoaXMudG90YWxSb3dzIHx8IHRoaXMuY29udGVzdHMubGVuZ3RoOwogICAgfSwKICAgIHRvdGFsQ29udGVzdHM6IGZ1bmN0aW9uIHRvdGFsQ29udGVzdHMoKSB7CiAgICAgIHJldHVybiB0aGlzLmNvbnRlc3RzLmxlbmd0aDsKICAgIH0sCiAgICB1c2VyQ29udGVzdEhpc3RvcnlUaXRsZTogZnVuY3Rpb24gdXNlckNvbnRlc3RIaXN0b3J5VGl0bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmZpbHRlclVzZXIgKyAiJ3MgQ29udGVzdCBIaXN0b3J5IjsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNvbnRlc3RzID0gW3sKICAgICAgInRpdGxlIjogIkdsb2JhbCBSYW5raW5nIiwKICAgICAgImhyZWYiOiAiZ2xvYmFsX3JhbmtpbmcuaHRtbCIsCiAgICAgICJzdGFydFRpbWUiOiAwCiAgICB9XTsKICAgIGF4aW9zLmdldCgnZGF0YS9jb250ZXN0cy5qc29uJykudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICB0aGlzLmNvbnRlc3RzID0gdGhpcy5jb250ZXN0cy5jb25jYXQocmVzcC5kYXRhKTsKICAgICAgdGhpcy5pc0J1c3kgPSBmYWxzZTsKICAgIH0uYmluZCh0aGlzKSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICB0aW1lc3RhbXBUb0RhdGU6IGZ1bmN0aW9uIHRpbWVzdGFtcFRvRGF0ZSh0aW1lc3RhbXApIHsKICAgICAgcmV0dXJuIG5ldyBEYXRlKHRpbWVzdGFtcCAqIDEwMDApLmZvcm1hdCgnWS1tLWQgSDppOnMnKTsKICAgIH0sCiAgICBvbkZpbHRlcmVkOiBmdW5jdGlvbiBvbkZpbHRlcmVkKGZpbHRlcmVkSXRlbXMpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CiAgICAgIHRoaXMudG90YWxSb3dzID0gZmlsdGVyZWRJdGVtcy5sZW5ndGg7CiAgICB9LAogICAgc2VhcmNoVXNlckhpc3Rvcnk6IGZ1bmN0aW9uIHNlYXJjaFVzZXJIaXN0b3J5KCkgewogICAgICB0aGlzLnVzZXJDb250ZXN0SGlzdG9yeSA9IFtdOwogICAgICB0aGlzLnVzZXJDb250ZXN0QnVzeSA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnNbJ3VzZXItaGlzdG9yeS1tb2RhbCddLnRvZ2dsZSgndXNlci1oaXN0b3J5LXN1Ym1pdCcpOwogICAgICB3b3JrZXIgPSBuZXcgV29ya2VyKCJnZXRfdXNlcl9yYW5rX3dvcmtlci5qcyIpOwogICAgICB0aGlzLnJldHJpZXZlZENudCA9IDA7CgogICAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoZS5kYXRhLmNvbnRlc3QpIHsKICAgICAgICAgIHRoaXMudXNlckNvbnRlc3RIaXN0b3J5LnB1c2goZS5kYXRhKTsKICAgICAgICB9CgogICAgICAgIHRoaXMucmV0cmlldmVkQ250Kys7CgogICAgICAgIGlmICh0aGlzLnJldHJpZXZlZENudCA9PSB0aGlzLmNvbnRlc3RzLmxlbmd0aCkgewogICAgICAgICAgdGhpcy51c2VyQ29udGVzdEJ1c3kgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0uYmluZCh0aGlzKTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmNvbnRlc3RzKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGNvbnRlc3QgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAoY29udGVzdC50aXRsZSA9PT0gIkdsb2JhbCBSYW5raW5nIikgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoW3RoaXMuZmlsdGVyVXNlciwgY29udGVzdC50aXRsZSwgY29udGVzdC5zdGFydFRpbWVdKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA,CACA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,CAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAJA;AAKA,MAAA,aAAA,EAAA,EALA;AAMA,MAAA,UAAA,EAAA,CAAA,OAAA,CANA;AAOA,MAAA,MAAA,EAAA,IAPA;AAQA,MAAA,SAAA,EAAA,IARA;AASA;AACA,MAAA,UAAA,EAAA,EAVA;AAWA,MAAA,wBAAA,EAAA,CAAA;AACA,QAAA,GAAA,EAAA;AADA,OAAA,EAEA;AACA,QAAA,GAAA,EAAA,MADA,CAEA;;AAFA,OAFA,EAKA;AACA,QAAA,GAAA,EAAA;AADA,OALA,EAOA;AACA,QAAA,GAAA,EAAA;AADA,OAPA,CAXA;AAqBA,MAAA,YAAA,EAAA,CArBA;AAsBA,MAAA,kBAAA,EAAA,EAtBA;AAuBA,MAAA,eAAA,EAAA;AAvBA,KAAA;AAyBA,GA/BA;AAgCA,EAAA,QAAA,EAAA;AACA,IAAA,KAAA,EAAA,iBAAA;AACA,aAAA,KAAA,SAAA,IAAA,KAAA,QAAA,CAAA,MAAA;AACA,KAHA;AAIA,IAAA,aAAA,EAAA,yBAAA;AACA,aAAA,KAAA,QAAA,CAAA,MAAA;AACA,KANA;AAOA,IAAA,uBAAA,EAAA,mCAAA;AACA,aAAA,KAAA,UAAA,GAAA,oBAAA;AACA;AATA,GAhCA;AA2CA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,QAAA,GAAA,CAAA;AACA,eAAA,gBADA;AAEA,cAAA,qBAFA;AAGA,mBAAA;AAHA,KAAA,CAAA;AAKA,IAAA,KAAA,CAAA,GAAA,CAAA,oBAAA,EACA,IADA,CACA,UAAA,IAAA,EAAA;AACA,WAAA,QAAA,GAAA,KAAA,QAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,KAHA,CAGA,IAHA,CAGA,IAHA,CADA;AAKA,GAtDA;AAuDA,EAAA,OAAA,EAAA;AACA,IAAA,eAAA,EAAA,yBAAA,SAAA,EAAA;AACA,aAAA,IAAA,IAAA,CAAA,SAAA,GAAA,IAAA,EAAA,MAAA,CAAA,aAAA,CAAA;AACA,KAHA;AAIA,IAAA,UAAA,EAAA,oBAAA,aAAA,EAAA;AACA,WAAA,WAAA,GAAA,CAAA;AACA,WAAA,SAAA,GAAA,aAAA,CAAA,MAAA;AACA,KAPA;AAQA,IAAA,iBAAA,EAAA,6BAAA;AACA,WAAA,kBAAA,GAAA,EAAA;AACA,WAAA,eAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,oBAAA,EAAA,MAAA,CAAA,qBAAA;AACA,MAAA,MAAA,GAAA,IAAA,MAAA,CAAA,yBAAA,CAAA;AACA,WAAA,YAAA,GAAA,CAAA;;AACA,MAAA,MAAA,CAAA,SAAA,GAAA,UAAA,CAAA,EAAA;AACA,YAAA,CAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,eAAA,kBAAA,CAAA,IAAA,CAAA,CAAA,CAAA,IAAA;AACA;;AACA,aAAA,YAAA;;AACA,YAAA,KAAA,YAAA,IAAA,KAAA,QAAA,CAAA,MAAA,EAAA;AACA,eAAA,eAAA,GAAA,KAAA;AACA;AACA,OARA,CAQA,IARA,CAQA,IARA,CAAA;;AANA,iDAeA,KAAA,QAfA;AAAA;;AAAA;AAeA,4DAAA;AAAA,cAAA,OAAA;;AACA,cAAA,OAAA,CAAA,KAAA,KAAA,gBAAA,EAAA;AACA;AACA;;AACA,UAAA,MAAA,CAAA,WAAA,CAAA,CAAA,KAAA,UAAA,EAAA,OAAA,CAAA,KAAA,EAAA,OAAA,CAAA,SAAA,CAAA;AACA;AApBA;AAAA;AAAA;AAAA;AAAA;AAqBA;AA7BA;AAvDA,CAAA","sourcesContent":["<template>\n  <div id=\"app\" class=\"px-5 py-3\">\n    <b-navbar toggleable=\"lg\" type=\"dark\" variant=\"info\" class=\"mb-2\">\n      <b-navbar-brand href=\"#\">Leetcode contest ranking searcher</b-navbar-brand>\n    </b-navbar>\n    <a class=\"github-button\" href=\"https://github.com/chiehmin\" data-size=\"large\" data-show-count=\"true\" aria-label=\"Follow @chiehmin on GitHub\">Follow @chiehmin</a>\n    <a class=\"github-button\" href=\"https://github.com/chiehmin/leetcode-ranking-search\" data-icon=\"octicon-star\" data-size=\"large\" data-show-count=\"true\" aria-label=\"Star chiehmin/leetcode-ranking-search on GitHub\">Star</a>\n\n    <b-container fluid class=\"p-0\">\n      <b-row align-h=\"between\">\n        <b-col sm=\"5\">\n          <b-pagination v-model=\"currentPage\" :total-rows=\"total\" :per-page=\"perPage\" aria-controls=\"contest-table\" ></b-pagination>\n        </b-col>\n        <b-col sm=\"3\">\n          <b-form-input v-model=\"filterContest\" type=\"search\" placeholder=\"Search a contest...\"></b-form-input>\n        </b-col>\n        <b-col sm=\"4\">\n          <b-input-group>\n            <b-form-input\n              v-model=\"filterUser\"\n              type=\"search\"\n              placeholder=\"Search user contest history...\"\n              @keydown.enter.native=\"searchUserHistory\"\n            ></b-form-input>\n            <b-input-group-append>\n              <b-button id=\"user-history-submit\" type=\"submit\" variant=\"primary\" v-on:click=\"searchUserHistory\">Submit</b-button>\n            </b-input-group-append>\n          </b-input-group>\n        </b-col>\n      </b-row>\n    </b-container>\n\n    <b-table hover id=\"contest-table\"\n      :items=\"contests\"\n      :fields=\"fields\"\n      :per-page=\"perPage\"\n      :current-page=\"currentPage\"\n      :filter=\"filterContest\"\n      :filter-included-fields=\"filteredOn\"\n      @filtered=\"onFiltered\"\n      :busy=\"isBusy\">\n      <template v-slot:head(title)=\"\">\n        Contest\n      </template>\n      <template v-slot:cell(title)=\"data\">\n        <b-link :href=\"data.item.href\">{{ data.item.title }}</b-link>\n      </template>\n      <template v-slot:cell(startTime)=\"data\">\n        {{ timestampToDate(data.item.startTime) }}\n      </template>\n    </b-table>\n\n    <b-modal ref=\"user-history-modal\" no-close-on-backdrop :hide-footer=\"true\" :title=\"userContestHistoryTitle\">\n      <b-table hover\n        :items=\"userContestHistory\"\n        :fields=\"userContestHistoryFields\"\n        :busy=\"userContestBusy\"\n        sort-by=\"startTime\"\n        :sort-desc=\"true\"\n        show-empty\n        empty-text=\"no contest data found.\">\n        <template v-slot:table-busy>\n          <div class=\"text-center text-danger my-2\">\n            <b-spinner class=\"align-middle\"></b-spinner>\n            <strong>Loading {{ retrievedCnt }} / {{ totalContests }}...</strong>\n          </div>\n        </template>\n      </b-table>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'App',\n  components: {\n    // HelloWorld\n  },\n  data() {\n    return {\n      perPage: 15,\n      currentPage: 1,\n      contests: [],\n      fields: [\"title\", \"startTime\"],\n      filterContest: \"\",\n      filteredOn: [\"title\"],\n      isBusy: true,\n      totalRows: null,\n      // user contest history\n      filterUser: \"\",\n      userContestHistoryFields: [{\n        key: \"contest\",\n      }, {\n        key: \"rank\",\n        // label: \"Rank (Percentile)\",\n      }, {\n        key: \"percentile\"\n      }, {\n        key: \"participants\"\n      }],\n      retrievedCnt: 0,\n      userContestHistory: [],\n      userContestBusy: false,\n    }\n  },\n  computed: {\n    total: function() {\n      return this.totalRows || this.contests.length;\n    },\n    totalContests: function() {\n      return this.contests.length;\n    },\n    userContestHistoryTitle: function() {\n      return this.filterUser + \"'s Contest History\";\n    }\n  },\n  mounted: function() {\n    this.contests = [{\n      \"title\": \"Global Ranking\",\n      \"href\": \"global_ranking.html\",\n      \"startTime\": 0,\n    }];\n    axios.get('data/contests.json')\n      .then(function(resp) {\n        this.contests = this.contests.concat(resp.data);\n        this.isBusy = false;\n      }.bind(this));\n  },\n  methods: {\n    timestampToDate: function(timestamp) {\n      return new Date(timestamp * 1000).format('Y-m-d H:i:s');\n    },\n    onFiltered: function(filteredItems) {\n      this.currentPage = 1;\n      this.totalRows = filteredItems.length;\n    },\n    searchUserHistory: function() {\n      this.userContestHistory = [];\n      this.userContestBusy = true;\n      this.$refs['user-history-modal'].toggle('user-history-submit');\n      worker = new Worker(\"get_user_rank_worker.js\");\n      this.retrievedCnt = 0;\n      worker.onmessage = function(e) {\n        if(e.data.contest) {\n          this.userContestHistory.push(e.data);\n        }\n        this.retrievedCnt++;\n        if (this.retrievedCnt == this.contests.length) {\n          this.userContestBusy = false;\n        }\n      }.bind(this);\n      for (let contest of this.contests) {\n        if (contest.title === \"Global Ranking\") {\n          continue;\n        }\n        worker.postMessage([this.filterUser, contest.title, contest.startTime]);\n      }\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src"}]}
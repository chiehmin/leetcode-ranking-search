{"remainingRequest":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/babel-loader/lib/index.js!/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/eslint-loader/index.js??ref--13-0!/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/src/scripts/get_user_rank_worker.js","dependencies":[{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/src/scripts/get_user_rank_worker.js","mtime":1628664008589},{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2ZhdG1pbm1pbi9Eb2N1bWVudHMvbGVldGNvZGUtcmFua2luZy1zZWFyY2gtdnVlLWNsaS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpmdW5jdGlvbiBzbHVnVGl0bGUodGl0bGUpIHsKICB2YXIgd29yZHMgPSB0aXRsZS5zcGxpdCgiICIpOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSsrKSB7CiAgICB3b3Jkc1tpXSA9IHdvcmRzW2ldLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgd29yZHNbaV0uc3Vic3RyKDEpOwogIH0KCiAgcmV0dXJuIHdvcmRzLmpvaW4oIi0iKTsKfQoKb25tZXNzYWdlID0gZnVuY3Rpb24gb25tZXNzYWdlKGUpIHsKICB2YXIgdXNlciA9IGUuZGF0YVswXSwKICAgICAgY29udGVzdCA9IGUuZGF0YVsxXSwKICAgICAgc3RhcnRUaW1lID0gZS5kYXRhWzJdOwogIGF4aW9zLmdldCgnZGF0YS8nICsgc2x1Z1RpdGxlKGNvbnRlc3QpICsgJy5qc29uJykudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgdmFyIGNvbnRlc3REYXRhID0gcmVzcC5kYXRhOwoKICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjb250ZXN0RGF0YSksCiAgICAgICAgX3N0ZXA7CgogICAgdHJ5IHsKICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICB2YXIgdXNlclJhbmsgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgaWYgKHVzZXJSYW5rLnVzZXJuYW1lLnRvTG93ZXJDYXNlKCkgPT0gdXNlci50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICB2YXIgcGVyY2VudGlsZSA9ICh1c2VyUmFuay5yYW5rICogMTAwLjAgLyBjb250ZXN0RGF0YS5sZW5ndGgpLnRvRml4ZWQoMikgKyAiJSI7CiAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICJjb250ZXN0IjogY29udGVzdCwKICAgICAgICAgICAgInN0YXJ0VGltZSI6IHN0YXJ0VGltZSwKICAgICAgICAgICAgInJhbmsiOiB1c2VyUmFuay5yYW5rLAogICAgICAgICAgICAicGVyY2VudGlsZSI6IHBlcmNlbnRpbGUsCiAgICAgICAgICAgICJwYXJ0aWNpcGFudHMiOiBjb250ZXN0RGF0YS5sZW5ndGgKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IuZigpOwogICAgfQoKICAgIHBvc3RNZXNzYWdlKHt9KTsKICB9LmJpbmQodGhpcykpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcigiZmFpbGVkIHRvIHJldHJpZXZlIGNvbnRlc3QgZGF0YSBvZiAiICsgY29udGVzdCk7CiAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgIHBvc3RNZXNzYWdlKHt9KTsKICB9KTsKfTs="},{"version":3,"sources":["/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/src/scripts/get_user_rank_worker.js"],"names":["axios","slugTitle","title","words","split","i","length","charAt","toLowerCase","substr","join","onmessage","e","user","data","contest","startTime","get","then","resp","contestData","userRank","username","percentile","rank","toFixed","postMessage","bind","catch","error","console"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,MAAIC,KAAK,GAAGD,KAAK,CAACE,KAAN,CAAY,GAAZ,CAAZ;;AACA,OAAI,IAAIC,CAAC,GAAG,CAAZ,EAAgBA,CAAC,GAAGF,KAAK,CAACG,MAA1B,EAAmCD,CAAC,EAApC,EAAuC;AACrCF,IAAAA,KAAK,CAACE,CAAD,CAAL,GAAWF,KAAK,CAACE,CAAD,CAAL,CAASE,MAAT,CAAgB,CAAhB,EAAmBC,WAAnB,KAAmCL,KAAK,CAACE,CAAD,CAAL,CAASI,MAAT,CAAgB,CAAhB,CAA9C;AACD;;AACD,SAAON,KAAK,CAACO,IAAN,CAAW,GAAX,CAAP;AACD;;AAEDC,SAAS,GAAG,mBAASC,CAAT,EAAY;AACtB,MAAIC,IAAI,GAAGD,CAAC,CAACE,IAAF,CAAO,CAAP,CAAX;AAAA,MAAsBC,OAAO,GAAGH,CAAC,CAACE,IAAF,CAAO,CAAP,CAAhC;AAAA,MAA2CE,SAAS,GAAGJ,CAAC,CAACE,IAAF,CAAO,CAAP,CAAvD;AACAd,EAAAA,KAAK,CAACiB,GAAN,CAAU,UAAUhB,SAAS,CAACc,OAAD,CAAnB,GAA+B,OAAzC,EACGG,IADH,CACQ,UAASC,IAAT,EAAc;AAClB,QAAIC,WAAW,GAAGD,IAAI,CAACL,IAAvB;;AADkB,+CAEGM,WAFH;AAAA;;AAAA;AAElB,0DAAkC;AAAA,YAAzBC,QAAyB;;AAChC,YAAIA,QAAQ,CAACC,QAAT,CAAkBd,WAAlB,MAAmCK,IAAI,CAACL,WAAL,EAAvC,EAA2D;AACzD,cAAIe,UAAU,GAAG,CAACF,QAAQ,CAACG,IAAT,GAAgB,KAAhB,GAAwBJ,WAAW,CAACd,MAArC,EAA6CmB,OAA7C,CAAqD,CAArD,IAA0D,GAA3E;AACAC,UAAAA,WAAW,CAAC;AACV,uBAAWX,OADD;AAEV,yBAAaC,SAFH;AAGV,oBAAQK,QAAQ,CAACG,IAHP;AAIV,0BAAcD,UAJJ;AAKV,4BAAgBH,WAAW,CAACd;AALlB,WAAD,CAAX;AAOD;AACF;AAbiB;AAAA;AAAA;AAAA;AAAA;;AAclBoB,IAAAA,WAAW,CAAC,EAAD,CAAX;AACD,GAfK,CAeJC,IAfI,CAeC,IAfD,CADR,EAiBGC,KAjBH,CAiBS,UAASC,KAAT,EAAgB;AACrBC,IAAAA,OAAO,CAACD,KAAR,CAAc,wCAAwCd,OAAtD;AACAe,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAH,IAAAA,WAAW,CAAC,EAAD,CAAX;AACD,GArBH;AAsBD,CAxBD","sourcesContent":["import axios from 'axios'\n\nfunction slugTitle(title) {\n  var words = title.split(\" \");\n  for(var i = 0 ; i < words.length ; i++){\n    words[i] = words[i].charAt(0).toLowerCase() + words[i].substr(1);\n  }\n  return words.join(\"-\");\n}\n\nonmessage = function(e) {\n  let user = e.data[0], contest = e.data[1], startTime = e.data[2];\n  axios.get('data/' + slugTitle(contest) + '.json')\n    .then(function(resp){\n      let contestData = resp.data;\n      for (let userRank of contestData) {\n        if (userRank.username.toLowerCase() == user.toLowerCase()) {\n          let percentile = (userRank.rank * 100.0 / contestData.length).toFixed(2) + \"%\";\n          postMessage({\n            \"contest\": contest,\n            \"startTime\": startTime,\n            \"rank\": userRank.rank,\n            \"percentile\": percentile,\n            \"participants\": contestData.length\n          });\n        }\n      }\n      postMessage({});\n    }.bind(this))\n    .catch(function(error) {\n      console.error(\"failed to retrieve contest data of \" + contest);\n      console.error(error);\n      postMessage({});\n    }) ;\n}\n"]}]}
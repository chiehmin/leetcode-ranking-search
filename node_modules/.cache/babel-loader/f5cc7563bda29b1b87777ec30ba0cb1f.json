{"remainingRequest":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/babel-loader/lib/index.js!/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/eslint-loader/index.js??ref--13-0!/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/src/scripts/get_user_rank_worker.js","dependencies":[{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/src/scripts/get_user_rank_worker.js","mtime":1628663837063},{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyID0gcmVxdWlyZSgiL2hvbWUvZmF0bWlubWluL0RvY3VtZW50cy9sZWV0Y29kZS1yYW5raW5nLXNlYXJjaC12dWUtY2xpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiKS5kZWZhdWx0OwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyIpOwoKaW1wb3J0U2NyaXB0cygnaHR0cHM6Ly91bnBrZy5jb20vYXhpb3MvZGlzdC9heGlvcy5taW4uanMnKTsKCmZ1bmN0aW9uIHNsdWdUaXRsZSh0aXRsZSkgewogIHdvcmRzID0gdGl0bGUuc3BsaXQoIiAiKTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykgewogICAgd29yZHNbaV0gPSB3b3Jkc1tpXS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHdvcmRzW2ldLnN1YnN0cigxKTsKICB9CgogIHJldHVybiB3b3Jkcy5qb2luKCItIik7Cn0KCm9ubWVzc2FnZSA9IGZ1bmN0aW9uIG9ubWVzc2FnZShlKSB7CiAgdmFyIHVzZXIgPSBlLmRhdGFbMF0sCiAgICAgIGNvbnRlc3QgPSBlLmRhdGFbMV0sCiAgICAgIHN0YXJ0VGltZSA9IGUuZGF0YVsyXTsKICBheGlvcy5nZXQoJ2RhdGEvJyArIHNsdWdUaXRsZShjb250ZXN0KSArICcuanNvbicpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgIHZhciBjb250ZXN0RGF0YSA9IHJlc3AuZGF0YTsKCiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY29udGVzdERhdGEpLAogICAgICAgIF9zdGVwOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIHVzZXJSYW5rID0gX3N0ZXAudmFsdWU7CgogICAgICAgIGlmICh1c2VyUmFuay51c2VybmFtZS50b0xvd2VyQ2FzZSgpID09IHVzZXIudG9Mb3dlckNhc2UoKSkgewogICAgICAgICAgdmFyIHBlcmNlbnRpbGUgPSAodXNlclJhbmsucmFuayAqIDEwMC4wIC8gY29udGVzdERhdGEubGVuZ3RoKS50b0ZpeGVkKDIpICsgIiUiOwogICAgICAgICAgcG9zdE1lc3NhZ2UoewogICAgICAgICAgICAiY29udGVzdCI6IGNvbnRlc3QsCiAgICAgICAgICAgICJzdGFydFRpbWUiOiBzdGFydFRpbWUsCiAgICAgICAgICAgICJyYW5rIjogdXNlclJhbmsucmFuaywKICAgICAgICAgICAgInBlcmNlbnRpbGUiOiBwZXJjZW50aWxlLAogICAgICAgICAgICAicGFydGljaXBhbnRzIjogY29udGVzdERhdGEubGVuZ3RoCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgIH0KCiAgICBwb3N0TWVzc2FnZSh7fSk7CiAgfS5iaW5kKHRoaXMpKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoImZhaWxlZCB0byByZXRyaWV2ZSBjb250ZXN0IGRhdGEgb2YgIiArIGNvbnRlc3QpOwogICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICBwb3N0TWVzc2FnZSh7fSk7CiAgfSk7Cn07"},{"version":3,"sources":["/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/src/scripts/get_user_rank_worker.js"],"names":["importScripts","slugTitle","title","words","split","i","length","charAt","toLowerCase","substr","join","onmessage","e","user","data","contest","startTime","axios","get","then","resp","contestData","userRank","username","percentile","rank","toFixed","postMessage","bind","catch","error","console"],"mappings":";;;;;;;;;;AAAAA,aAAa,CAAC,2CAAD,CAAb;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACxBC,EAAAA,KAAK,GAAGD,KAAK,CAACE,KAAN,CAAY,GAAZ,CAAR;;AACA,OAAI,IAAIC,CAAC,GAAG,CAAZ,EAAgBA,CAAC,GAAGF,KAAK,CAACG,MAA1B,EAAmCD,CAAC,EAApC,EAAuC;AACrCF,IAAAA,KAAK,CAACE,CAAD,CAAL,GAAWF,KAAK,CAACE,CAAD,CAAL,CAASE,MAAT,CAAgB,CAAhB,EAAmBC,WAAnB,KAAmCL,KAAK,CAACE,CAAD,CAAL,CAASI,MAAT,CAAgB,CAAhB,CAA9C;AACD;;AACD,SAAON,KAAK,CAACO,IAAN,CAAW,GAAX,CAAP;AACD;;AAEDC,SAAS,GAAG,mBAASC,CAAT,EAAY;AACtB,MAAIC,IAAI,GAAGD,CAAC,CAACE,IAAF,CAAO,CAAP,CAAX;AAAA,MAAsBC,OAAO,GAAGH,CAAC,CAACE,IAAF,CAAO,CAAP,CAAhC;AAAA,MAA2CE,SAAS,GAAGJ,CAAC,CAACE,IAAF,CAAO,CAAP,CAAvD;AACAG,EAAAA,KAAK,CAACC,GAAN,CAAU,UAAUjB,SAAS,CAACc,OAAD,CAAnB,GAA+B,OAAzC,EACGI,IADH,CACQ,UAASC,IAAT,EAAc;AAClB,QAAIC,WAAW,GAAGD,IAAI,CAACN,IAAvB;;AADkB,+CAEGO,WAFH;AAAA;;AAAA;AAElB,0DAAkC;AAAA,YAAzBC,QAAyB;;AAChC,YAAIA,QAAQ,CAACC,QAAT,CAAkBf,WAAlB,MAAmCK,IAAI,CAACL,WAAL,EAAvC,EAA2D;AACzD,cAAIgB,UAAU,GAAG,CAACF,QAAQ,CAACG,IAAT,GAAgB,KAAhB,GAAwBJ,WAAW,CAACf,MAArC,EAA6CoB,OAA7C,CAAqD,CAArD,IAA0D,GAA3E;AACAC,UAAAA,WAAW,CAAC;AACV,uBAAWZ,OADD;AAEV,yBAAaC,SAFH;AAGV,oBAAQM,QAAQ,CAACG,IAHP;AAIV,0BAAcD,UAJJ;AAKV,4BAAgBH,WAAW,CAACf;AALlB,WAAD,CAAX;AAOD;AACF;AAbiB;AAAA;AAAA;AAAA;AAAA;;AAclBqB,IAAAA,WAAW,CAAC,EAAD,CAAX;AACD,GAfK,CAeJC,IAfI,CAeC,IAfD,CADR,EAiBGC,KAjBH,CAiBS,UAASC,KAAT,EAAgB;AACrBC,IAAAA,OAAO,CAACD,KAAR,CAAc,wCAAwCf,OAAtD;AACAgB,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAH,IAAAA,WAAW,CAAC,EAAD,CAAX;AACD,GArBH;AAsBD,CAxBD","sourcesContent":["importScripts('https://unpkg.com/axios/dist/axios.min.js');\n\nfunction slugTitle(title) {\n  words = title.split(\" \");\n  for(var i = 0 ; i < words.length ; i++){\n    words[i] = words[i].charAt(0).toLowerCase() + words[i].substr(1);\n  }\n  return words.join(\"-\");\n}\n\nonmessage = function(e) {\n  let user = e.data[0], contest = e.data[1], startTime = e.data[2];\n  axios.get('data/' + slugTitle(contest) + '.json')\n    .then(function(resp){\n      let contestData = resp.data;\n      for (let userRank of contestData) {\n        if (userRank.username.toLowerCase() == user.toLowerCase()) {\n          let percentile = (userRank.rank * 100.0 / contestData.length).toFixed(2) + \"%\";\n          postMessage({\n            \"contest\": contest,\n            \"startTime\": startTime,\n            \"rank\": userRank.rank,\n            \"percentile\": percentile,\n            \"participants\": contestData.length\n          });\n        }\n      }\n      postMessage({});\n    }.bind(this))\n    .catch(function(error) {\n      console.error(\"failed to retrieve contest data of \" + contest);\n      console.error(error);\n      postMessage({});\n    }) ;\n}\n"]}]}
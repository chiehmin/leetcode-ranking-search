{"remainingRequest":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/src/App.vue","mtime":1628663896436},{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fatminmin/Documents/leetcode-ranking-search-vue-cli/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IFVzZXJSYW5raW5nV29ya2VyIGZyb20gJy4vc2NyaXB0cy9nZXRfdXNlcl9yYW5rX3dvcmtlci5qcycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBjb21wb25lbnRzOiB7CiAgICAvLyBIZWxsb1dvcmxkCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGVyUGFnZTogMTUsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBjb250ZXN0czogW10sCiAgICAgIGZpZWxkczogWyJ0aXRsZSIsICJzdGFydFRpbWUiXSwKICAgICAgZmlsdGVyQ29udGVzdDogIiIsCiAgICAgIGZpbHRlcmVkT246IFsidGl0bGUiXSwKICAgICAgaXNCdXN5OiB0cnVlLAogICAgICB0b3RhbFJvd3M6IG51bGwsCiAgICAgIC8vIHVzZXIgY29udGVzdCBoaXN0b3J5CiAgICAgIGZpbHRlclVzZXI6ICIiLAogICAgICB1c2VyQ29udGVzdEhpc3RvcnlGaWVsZHM6IFt7CiAgICAgICAga2V5OiAiY29udGVzdCIsCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJyYW5rIiwKICAgICAgICAvLyBsYWJlbDogIlJhbmsgKFBlcmNlbnRpbGUpIiwKICAgICAgfSwgewogICAgICAgIGtleTogInBlcmNlbnRpbGUiCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJwYXJ0aWNpcGFudHMiCiAgICAgIH1dLAogICAgICByZXRyaWV2ZWRDbnQ6IDAsCiAgICAgIHVzZXJDb250ZXN0SGlzdG9yeTogW10sCiAgICAgIHVzZXJDb250ZXN0QnVzeTogZmFsc2UsCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgdG90YWw6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy50b3RhbFJvd3MgfHwgdGhpcy5jb250ZXN0cy5sZW5ndGg7CiAgICB9LAogICAgdG90YWxDb250ZXN0czogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmNvbnRlc3RzLmxlbmd0aDsKICAgIH0sCiAgICB1c2VyQ29udGVzdEhpc3RvcnlUaXRsZTogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmZpbHRlclVzZXIgKyAiJ3MgQ29udGVzdCBIaXN0b3J5IjsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5jb250ZXN0cyA9IFt7CiAgICAgICJ0aXRsZSI6ICJHbG9iYWwgUmFua2luZyIsCiAgICAgICJocmVmIjogImdsb2JhbF9yYW5raW5nLmh0bWwiLAogICAgICAic3RhcnRUaW1lIjogMCwKICAgIH1dOwogICAgYXhpb3MuZ2V0KCdkYXRhL2NvbnRlc3RzLmpzb24nKQogICAgICAudGhlbihmdW5jdGlvbihyZXNwKSB7CiAgICAgICAgdGhpcy5jb250ZXN0cyA9IHRoaXMuY29udGVzdHMuY29uY2F0KHJlc3AuZGF0YSk7CiAgICAgICAgdGhpcy5pc0J1c3kgPSBmYWxzZTsKICAgICAgfS5iaW5kKHRoaXMpKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHRpbWVzdGFtcFRvRGF0ZTogZnVuY3Rpb24odGltZXN0YW1wKSB7CiAgICAgIHJldHVybiBuZXcgRGF0ZSh0aW1lc3RhbXAgKiAxMDAwKS5mb3JtYXQoJ1ktbS1kIEg6aTpzJyk7CiAgICB9LAogICAgb25GaWx0ZXJlZDogZnVuY3Rpb24oZmlsdGVyZWRJdGVtcykgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgdGhpcy50b3RhbFJvd3MgPSBmaWx0ZXJlZEl0ZW1zLmxlbmd0aDsKICAgIH0sCiAgICBzZWFyY2hVc2VySGlzdG9yeTogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMudXNlckNvbnRlc3RIaXN0b3J5ID0gW107CiAgICAgIHRoaXMudXNlckNvbnRlc3RCdXN5ID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmc1sndXNlci1oaXN0b3J5LW1vZGFsJ10udG9nZ2xlKCd1c2VyLWhpc3Rvcnktc3VibWl0Jyk7CiAgICAgIHdvcmtlciA9IG5ldyBXb3JrZXIoImdldF91c2VyX3Jhbmtfd29ya2VyLmpzIik7CiAgICAgIHRoaXMucmV0cmlldmVkQ250ID0gMDsKICAgICAgd29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICBpZihlLmRhdGEuY29udGVzdCkgewogICAgICAgICAgdGhpcy51c2VyQ29udGVzdEhpc3RvcnkucHVzaChlLmRhdGEpOwogICAgICAgIH0KICAgICAgICB0aGlzLnJldHJpZXZlZENudCsrOwogICAgICAgIGlmICh0aGlzLnJldHJpZXZlZENudCA9PSB0aGlzLmNvbnRlc3RzLmxlbmd0aCkgewogICAgICAgICAgdGhpcy51c2VyQ29udGVzdEJ1c3kgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0uYmluZCh0aGlzKTsKICAgICAgZm9yIChsZXQgY29udGVzdCBvZiB0aGlzLmNvbnRlc3RzKSB7CiAgICAgICAgaWYgKGNvbnRlc3QudGl0bGUgPT09ICJHbG9iYWwgUmFua2luZyIpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoW3RoaXMuZmlsdGVyVXNlciwgY29udGVzdC50aXRsZSwgY29udGVzdC5zdGFydFRpbWVdKTsKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\" class=\"px-5 py-3\">\n    <b-navbar toggleable=\"lg\" type=\"dark\" variant=\"info\" class=\"mb-2\">\n      <b-navbar-brand href=\"#\">Leetcode contest ranking searcher</b-navbar-brand>\n    </b-navbar>\n    <a class=\"github-button\" href=\"https://github.com/chiehmin\" data-size=\"large\" data-show-count=\"true\" aria-label=\"Follow @chiehmin on GitHub\">Follow @chiehmin</a>\n    <a class=\"github-button\" href=\"https://github.com/chiehmin/leetcode-ranking-search\" data-icon=\"octicon-star\" data-size=\"large\" data-show-count=\"true\" aria-label=\"Star chiehmin/leetcode-ranking-search on GitHub\">Star</a>\n\n    <b-container fluid class=\"p-0\">\n      <b-row align-h=\"between\">\n        <b-col sm=\"5\">\n          <b-pagination v-model=\"currentPage\" :total-rows=\"total\" :per-page=\"perPage\" aria-controls=\"contest-table\" ></b-pagination>\n        </b-col>\n        <b-col sm=\"3\">\n          <b-form-input v-model=\"filterContest\" type=\"search\" placeholder=\"Search a contest...\"></b-form-input>\n        </b-col>\n        <b-col sm=\"4\">\n          <b-input-group>\n            <b-form-input\n              v-model=\"filterUser\"\n              type=\"search\"\n              placeholder=\"Search user contest history...\"\n              @keydown.enter.native=\"searchUserHistory\"\n            ></b-form-input>\n            <b-input-group-append>\n              <b-button id=\"user-history-submit\" type=\"submit\" variant=\"primary\" v-on:click=\"searchUserHistory\">Submit</b-button>\n            </b-input-group-append>\n          </b-input-group>\n        </b-col>\n      </b-row>\n    </b-container>\n\n    <b-table hover id=\"contest-table\"\n      :items=\"contests\"\n      :fields=\"fields\"\n      :per-page=\"perPage\"\n      :current-page=\"currentPage\"\n      :filter=\"filterContest\"\n      :filter-included-fields=\"filteredOn\"\n      @filtered=\"onFiltered\"\n      :busy=\"isBusy\">\n      <template v-slot:head(title)=\"\">\n        Contest\n      </template>\n      <template v-slot:cell(title)=\"data\">\n        <b-link :href=\"data.item.href\">{{ data.item.title }}</b-link>\n      </template>\n      <template v-slot:cell(startTime)=\"data\">\n        {{ timestampToDate(data.item.startTime) }}\n      </template>\n    </b-table>\n\n    <b-modal ref=\"user-history-modal\" no-close-on-backdrop :hide-footer=\"true\" :title=\"userContestHistoryTitle\">\n      <b-table hover\n        :items=\"userContestHistory\"\n        :fields=\"userContestHistoryFields\"\n        :busy=\"userContestBusy\"\n        sort-by=\"startTime\"\n        :sort-desc=\"true\"\n        show-empty\n        empty-text=\"no contest data found.\">\n        <template v-slot:table-busy>\n          <div class=\"text-center text-danger my-2\">\n            <b-spinner class=\"align-middle\"></b-spinner>\n            <strong>Loading {{ retrievedCnt }} / {{ totalContests }}...</strong>\n          </div>\n        </template>\n      </b-table>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport UserRankingWorker from './scripts/get_user_rank_worker.js'\n\nexport default {\n  name: 'App',\n  components: {\n    // HelloWorld\n  },\n  data() {\n    return {\n      perPage: 15,\n      currentPage: 1,\n      contests: [],\n      fields: [\"title\", \"startTime\"],\n      filterContest: \"\",\n      filteredOn: [\"title\"],\n      isBusy: true,\n      totalRows: null,\n      // user contest history\n      filterUser: \"\",\n      userContestHistoryFields: [{\n        key: \"contest\",\n      }, {\n        key: \"rank\",\n        // label: \"Rank (Percentile)\",\n      }, {\n        key: \"percentile\"\n      }, {\n        key: \"participants\"\n      }],\n      retrievedCnt: 0,\n      userContestHistory: [],\n      userContestBusy: false,\n    }\n  },\n  computed: {\n    total: function() {\n      return this.totalRows || this.contests.length;\n    },\n    totalContests: function() {\n      return this.contests.length;\n    },\n    userContestHistoryTitle: function() {\n      return this.filterUser + \"'s Contest History\";\n    }\n  },\n  mounted: function() {\n    this.contests = [{\n      \"title\": \"Global Ranking\",\n      \"href\": \"global_ranking.html\",\n      \"startTime\": 0,\n    }];\n    axios.get('data/contests.json')\n      .then(function(resp) {\n        this.contests = this.contests.concat(resp.data);\n        this.isBusy = false;\n      }.bind(this));\n  },\n  methods: {\n    timestampToDate: function(timestamp) {\n      return new Date(timestamp * 1000).format('Y-m-d H:i:s');\n    },\n    onFiltered: function(filteredItems) {\n      this.currentPage = 1;\n      this.totalRows = filteredItems.length;\n    },\n    searchUserHistory: function() {\n      this.userContestHistory = [];\n      this.userContestBusy = true;\n      this.$refs['user-history-modal'].toggle('user-history-submit');\n      worker = new Worker(\"get_user_rank_worker.js\");\n      this.retrievedCnt = 0;\n      worker.onmessage = function(e) {\n        if(e.data.contest) {\n          this.userContestHistory.push(e.data);\n        }\n        this.retrievedCnt++;\n        if (this.retrievedCnt == this.contests.length) {\n          this.userContestBusy = false;\n        }\n      }.bind(this);\n      for (let contest of this.contests) {\n        if (contest.title === \"Global Ranking\") {\n          continue;\n        }\n        worker.postMessage([this.filterUser, contest.title, contest.startTime]);\n      }\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n"]}]}